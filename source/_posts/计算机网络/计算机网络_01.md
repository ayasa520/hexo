---
title: 计算机网络 1 -因特网概述
description: 因特网概述 网络、互连（联）网和因特网 网络是由若干结点和连接这些结点的链路组成的多个网络可以通过路由器互连起来, 构成一个覆盖范围更大的网络, 即互联网
tags: "计网"
categories: "NJU 笔记"
mathjax: true
date: 2021-05-02
cover: https://link.jscdn.cn/1drv/aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBZ0wtcVlYV1Ftak1pR1RYdElwOXJ2eURnWHppP2U9VDBxR2Rr.webp
---



## 网络、互连（联）网和因特网

- **网络** (Network)  是由若干<span style="color:red"><b>结点</b></span>和连接这些结点的<span style="color:red"><b>链路</b></span>组成的
- 多个网络可以通过路由器互连起来, 构成一个覆盖范围更大的网络, 即互联网
- **因特网** (Internet) 是世界上最大的互连网络

### Internet 和 internet

internet 是一个通用名词, 泛指多个计算机网络互连而成的网络. 在这些网络之间的通信协议可以是任意的

Internet 是专有名词, 指当前全球最大的, 开放的, 由众多网络互相连接而成的特定计算机网络, 采用 TCP/IP 协议族作为通信规则, 前身是美国的 APRANET



## 因特网发展的三个阶段

![image-20210308165413452](https://unpkg.zhimg.com/rikka-os@latest/img/geD1NLXtMJlOxE2.webp)

### **因特网服务提供者**<span style="color:red"><b>ISP </b></span>(Internet Service Provider)

![image-20210308170736565](https://unpkg.zhimg.com/rikka-os@latest/img/BZlDLwSoz7GNWjg.webp)

ISP 从因特网管理机构申请到成块的 IP 地址, 同时拥有通信线路以及路由器等联网设备. 任何机构和个人只要向 ISP 交纳规定费用, 就可以从 ISP 得到需要的 IP 地址. 

我国主要的 ISP 就是三大运营商.

### 基于 ISP 的三层结构的因特网

![image-20210308171327190](https://unpkg.zhimg.com/rikka-os@latest/img/JHxEb1VGp3iukSO.webp)

- 第一层: 因特网主干网, 一般可以覆盖国际性区域范围, 拥有高速链路和交换设备. 第一层 ISP 直接互联.
- 第二层: 第二层 ISP 和一些大公司是第一层 ISP 的用户, 具有区域性或者国家性覆盖规模, 与少数第一层 ISP 相连接.
- 第三层: 本地 ISP 是第二层 ISP 的用户, 只拥有本地范围的网络, 一般的校园网, 企业网, 住宅用户是第三层 ISP 的用户.

## 数据 (Data)

- 数据以 0 1 序列发送.
- 数据不是信息的本身.
- 数据时信息的一种编码方式, 它通过电/光信号来传输.

## 数据包 (Data Packets)

- 数据被划分成易于传输的小单元.
  - 在 OSI 中, 这些单元可以是 **packets, frames, segments**
- 意义
  - 加速传输 (不同进程或任务对于用户是同时运行的)
  - 丢包重传数据少
  - 数据可通过不同的路径到达

## 因特网的标准化工作

- 因特网的标准化工作对因特网的发展起到了非常重要的作用
- 因特网在制定其标准上的一个很大的特点是面向大众.

## 因特网的组成

![image-20210308180218899](https://unpkg.zhimg.com/rikka-os@latest/img/3kJBlxQUycqeZho.webp)

- 边缘部分
  - 由所有链接在因特网上的<span style="color:red"><b>主机</b></span>组成. 这部分是<span style="color:red"><b>用户直接使用</b></span>的,用来进行通信(传送数据)和资源共享.
- 核心部分
  - 由<span style="color:red"><b>大量网络</b></span>和连接这些网络的<span style="color:red"><b>路由器</b></span>组成. 这部分是为边缘部分提供服务的.

## 三种交换方式

### 电路交换(Circuit Switching)

- 电话交换机接通电话线的方式称为电路交换

- 从通信资源呢分配角度来看, 交换(Switching) 是按照某种方式动态地分配传输线路的资源

- 步骤:

  1.建立连接 (分配通信资源)

  2.通话(一直占用通信资源)

  3.释放连接 (归还通信资源)

使用电路交换传送计算机地数据, 线路的传输效率会很低

### 分组交换 (Packet Switching)





#### 发送方

- 构造分组

  将较长的报文划分为等长的数据段, 并添加**首部**, 构成一个分组, 也可以简称为**包** (packets), 首部也可以称为**包头**. 首部包含了分组的目的地址.

- 发送分组

#### 路由器

- 缓存分组

- 转发分组

  检查首部中的目的地址, 进行查表转发

#### 接收方

- 接受分组

- 还原报文

  去掉首部还原出原始报文

下图展示了分组交换的两种情况:

- 各分组从源站到目的站可以走不同的路径
- 分组乱序

![](https://unpkg.zhimg.com/rikka-os@latest/img/jr2mXCJlE4Au8OV.gif)

### 报文交换 (过时)

### 对比

| 交换方式 | 优点                                                         | 缺点                                                        |
| -------- | ------------------------------------------------------------ | ----------------------------------------------------------- |
| 电路交换 | 通信时延小, 有序传输, 没有冲突, 使用范围广,实时性强, 控制简单 | 建立连接时间长, 线路独占传输效率低, 灵活性差, 难以规格化    |
| 报文交换 | 无需建立连接, 动态分配线路, 提高线路可靠性, 提高线路利用率, 提供多目标服务 | 引起转发时延, 需要较大的存储缓存空间, 需要额外的信息量      |
| 分组交换 | 无需建立连接, 线路利用率高, 简化了存储管理, 加速传输(前一个分组的转发与后一个分组的存储同时进行), 减少出错概率和重发数据量 | 引起转发时延, 需要额外的信息量,存在失序, 丢失重复分组的问题 |

## 计算机网络的定义

#### 最简单定义: 一些互连, 自治的计算机集合

- 互连: 计算机之间可以通过有线或者无线的方式进行数据通信
- 自治: 独立的计算机, 有自己的硬件和软件
- 集合: 多台计算机

#### 较好的定义:

计算机网络主要是由一些**通用的、可编程的硬件互连**而成的,而这些硬件并非专门用来实现某一特定目的 (例如,传送数据或视频信号)。这些可编程的硬件能够用来**传送多种不同类型的数据**,并能**支持广泛的和日益增长的应用**

## 计算机网络的分类

### 按交换技术

- 电路交换网络
- 报文交换网络
- 分组交换网络

### 按使用者

- 公用网
- 专用网

### 按传输介质

- 有线网络
- 无线网络

### 按覆盖范围

- 广域网 WAN
- 城域网 MAN
- 局域网 LAN
- 个域网 PAN

### 按拓扑结构分类

- 总线型网络
- 星型网络
- 环型网络
- 网状型网络

## 计算机网络的性能指标



### 速率

常用数据率单位:

$1Mbps=1000kbps=10^6bps$

一般在带宽, 速率中, 进率为 1000, 存储容量中进率为 1024. 当然也要看题目具体的说明.

### 带宽 (Bandwidth)

#### 在模拟信号系统中

信号包含的各种不同频率所占据的**频率范围**, 单位 HZ

#### 在计算机网络中

用来表示网络的通信线路所能传送数据的能力, 因此网络带宽表示**最高速率**

单位与速率相同.

### 吞吐量 (Throughput)

单位时间内通过某个网络(或信道,接口)的数据量, 与带宽不同的是, 吞吐量是真实的通过测量得到的.

### 时延

- $\displaystyle\text{发送时延}=\frac {分组大小}{发送速率} $
- $\displaystyle传播时延 = \frac{信道长度}{电磁波传播速率}$
- 处理时延 一般不便于计算

### 时延带宽积

- **传播时延**和**带宽**的乘积
- 若发送端连续发送数据, 则在所发送的第一个比特即将到达终点时, 发送端就已经发送了时延带宽积个比特
- 又称为**以比特为单位的链路长度**

### 往返时间 RTT

- 因特网上的信息往往需要**双向交互**
- 有时需要知道双向交互一次的时间

### 利用率

- **信道利用率**: 某信道的时间利用率

- **网络利用率**: 全网络信道利用率的加权平均

- 利用率并非越高越好, 一条信道利用率和和时延有下面的关系:

  $D$ 表示网络当前时延, $D_0$ 表示网络空闲时的时延, $U$ 表示利用率

  $$\displaystyle D=\frac {D_0}{1-U}$$

  一些拥有较大主干网的 ISP 通常会控制信道利用率不超过 50%, 否则就要准备扩容, 增大带宽.

- 信道利用率太低会造成浪费, 可以根据情况动态调整输入到网络的通信量. 

### 丢包率

- 即**分组丢失率**
- 原因:
  - **分组误码**
  - **网络拥塞**(结点交换机缓存队列满)



## 计算机网络体系结构

### 常见的计算机网络体系结构

#### 开放系统互连参考模型 (Open System Interconnection,OSI)

- 法律上的国际标准 
- 从下往上依次是: Physical, Data Link, Network, Transport, Session, Presentation, Application

![image-20210310113453877](https://unpkg.zhimg.com/rikka-os@latest/img/fc8qBOxJy5ISEPU.webp)

#### TCP/IP 体系结构

- 事实上的国际标准 

![image-20210316193311111](https://unpkg.zhimg.com/rikka-os@latest/img/84sXk1rdD5h7ENC.webp)

#### 学习用模型

- 在学习时, 常把网络接口层分为物理层和数据链路层

![image-20210316193333188](https://unpkg.zhimg.com/rikka-os@latest/img/2NGmnqkMAS5ayZo.webp)

### 计算机网络体系结构分层的必要性

- 减小复杂性
- 标准化的接口: 各层之间相互请求并提供服务
- 促进模块化工程
- 确保内部可操作的计数
- 促进发展
- 简化教学

- ~~应用层: 通过应用进程交互实现特定网络应用~~
- ~~运输层: 进程间基于网络的通信问题~~
- ~~网络层: 分组在多个网络上传输(路由)~~
- ~~数据链路层: 分组在一个网络(或者一段链路)传输~~
- ~~物理层: 用何种信号传输比特~~



### 计算机网络体系结构分层思想举例

#### 发送方

层层封装

- 应用层: 构建一个 HTTP 请求报文
- 运输层: 添加一个 TCP 首部, 形成 TCP 报文
- 网络层: 添加一个 IP 首部, 形成 IP 报文
- 数据链路层: 添加以太网帧首部和帧尾部
  - 帧首部: 让帧能在一个网络或者一个链路上传输,能被相应主机接收
  - 帧尾部: 检查是否有误码
- 物理层: 添加前导码
  - 让目的主机做好接收帧的准备

#### 路由器

一般只具有网络层, 链路层,和物理层

层层解封, 通过 IP 数据报的首部确定转发端口

#### 接收方

层层解封

### 计算机网络体系结构中的专业术语

#### 实体 (Entity)

- 实体 (Entity): 任何可发送或者接收信息的**硬件**或**软件进程**
- 对等实体 (Peer-Entity): 收发双方**相同层次的实体**

![image-20210316193425901](https://unpkg.zhimg.com/rikka-os@latest/img/6tzBQ5wXVvPuEMG.webp)

#### 协议 (Protocol)

控制两个对等实体进行逻辑通信的规则的集合

- 逻辑通信实际上并不存在

协议的三要素

- 语法

  定义所交换信息的格式

- 语义

  定义收发双方所要完成的操作

- 同步

  定义收发双方的时序关系, 如 TCP 采用 "三报文握手" 建立连接的过程



![image-20210310222600735](https://unpkg.zhimg.com/rikka-os@latest/img/GoUWpMARmh4kn9T.webp)



#### 服务

- 在协议的控制下, 两个对等实体间的逻辑通信使得本层能够向上一层提供服务

- 要实现本层协议, 还需要使用下面一层提供的服务

- 协议是 "**水平的**", 服务是"**垂直的**"

- 下层协议对上层是不可见的

- 服务访问点 同一系统**相邻两层的实体交换信息的逻辑接口**, 用于区分不同的服务类型

  - 数据链路层: 帧的"类型"字段
  - 网络层: IP 数据报的"协议"字段
  - 运输层: "端口号"

- 服务原语: 上层使用下层服务必须与下层**交换一些命令**, 就是服务原语

- 协议数据单元  (PDU): 对等层次之间传送的数据包

- 服务数据单元 (SDU): 同一系统内, **层与层之间交换的数据包**

  ![image-20210316193459176](https://unpkg.zhimg.com/rikka-os@latest/img/FvxbRoADwtGyPCc.webp)







